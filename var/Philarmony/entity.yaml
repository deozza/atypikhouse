entities:
  annonce:
    properties: [title, description, price, annonce_category, photo, nbPersonMax]
    states:
      __default:
        methods:
          POST:
            properties: [title, description, price, annonce_category, nbPersonMax]
            by:
              roles: [ROLE_USER]
      posted:
        methods:
          POST:
            properties: [description, photo]
            by:
              users: [owner]
              roles: [ROLE_ADMIN]
          PATCH:
            properties: all
            by:
              users: [owner]
              roles: [ROLE_ADMIN]
          GET:
            by:
              users: [owner]
              roles: [ROLE_ADMIN]
          DELETE:
            properties: [description, photo]
            by:
              users: [owner]
              roles: [ROLE_ADMIN]
      public:
        constraints:
          manual:
            by:
              roles: [ROLE_ADMIN]
        methods:
          POST:
            properties: [description, photo]
            by:
              users: [owner]
              roles: [ROLE_ADMIN]
          PATCH:
            properties: all
            by:
              users: [owner]
              roles: [ROLE_ADMIN]
          GET:
            by: all
          DELETE:
            properties: [description, photo]
            by:
              users: [owner]
              roles: [ROLE_ADMIN]